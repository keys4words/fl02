{% extends 'base.html' %}

{% block title %}User page{% endblock %}

{% block content %}
<h2>Welcome, {{ user }}</h2>
{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
<div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>{{ message }}!</strong>
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{% endfor %}
{% endif %}
{% endwith %}
<h3>Your ToDo's:</h3>
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Task</th>
      <th scope="col">Delete</th>
    </tr>
  </thead>
  <tbody>
    {% if todos %}
    {% for index, todo in todos %}
    <tr>
      <th scope="row">{{ index+1 }}</th>
      <td>{{ todo.task }}</td>
      <td><a href="#" class="btn btn-danger btn-sm delete">X</a></td>
    </tr>
    {% endfor %}
    {% endif %}
  </tbody>
</table>


<h3>Add new ToDo:</h3>
<form action="#" method="post">
  <input type="text" name="todo" placeholder="Enter Your ToDo">
  <input type="submit" value="Add">
</form>
{% endblock %}